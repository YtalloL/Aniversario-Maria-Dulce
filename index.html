<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Convite de Anivers√°rio</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main class="container">
    <section class="hero">
      <div class="decor left" aria-hidden="true"></div>
      <div class="decor right" aria-hidden="true"></div>

      <div class="countdown" id="countdown" aria-hidden="false">
        <div class="countdown-inner">‚è≥ Contagem regressiva: <span id="countdownTimer">-- dias --:--:--</span></div>
      </div>

      <div class="card">
        <div class="badge">Voc√™ est√° convidado(a)</div>
        <h1 class="name"><span id="guestName" data-full="Anivers√°rio">Anivers√°rio</span></h1>
        <p class="name"><span id="guestName">M√°ria Dulce</span></p>
        <p class="subtitle"><strong>80 anos</strong></p>

        <div class="cta">
          <a href="details.html" class="link-btn open-details">Ver detalhes üéâ</a>
        </div>

        <p class="confirm">Confirme presen√ßa at√© <strong>20/02/2026</strong></p>
      </div>
    </section>



    <footer class="footer">
      <p>Confirme sua presen√ßa e venha celebrar conosco! üéà</p>
    </footer>
  </main>



  <script>
    // Pegar refer√™ncias aos elementos que vamos usar (bot√µes, QR, chave Pix)
    const openDetailsEls = document.querySelectorAll('.open-details');
    const qrImage = document.getElementById('qrImage');
    const copyBtn = document.getElementById('copyPix');
    const pixKey = document.getElementById('pixKey');



    const guestName = document.getElementById('guestName');
    const ageEl = document.getElementById('age');
    const date = document.getElementById('date');
    const time = document.getElementById('time');
    const place = document.getElementById('place');
    const gift = document.getElementById('gift');

    // Paleta para o confete agora est√° em js/utils.js

    // Abrir/fechar painel de detalhes (carrega o conte√∫do de `details.html` na primeira vez)
    const detailsPanel = document.getElementById('detailsPanel');
    let detailsLoaded = false;

    // toggleDetails agora implementado em js/index.js ‚Äî removido do HTML para evitar duplica√ß√£o

    openDetailsEls.forEach(el=> el.addEventListener('click', (ev)=>{
      ev.preventDefault();
      const rect = ev.target.getBoundingClientRect();
      createConfetti(rect.left + rect.width/2, rect.top + rect.height/2, 30);
      setTimeout(()=> toggleDetails(), 280);
    }));

    /* Contador: inicializa√ß√£o e atualiza√ß√µes agora gerenciadas por js/index.js (usa updateCountdownTo do utils.js) */

    // O QR j√° vem pronto no convite (n√£o deixamos enviar QR pela p√°gina) ‚Äî est√° em `assets`.

    // Copiar a chave Pix para a √°rea de transfer√™ncia quando o usu√°rio clicar em 'Copiar'
    if (copyBtn) {
      copyBtn.addEventListener('click', async () => {
        const val = pixKey.value.trim();
        if (!val) {
          copyBtn.textContent = 'Vazio';
          setTimeout(()=> copyBtn.textContent = 'Copiar', 1200);
          return;
        }
        try {
          await navigator.clipboard.writeText(val);
          copyBtn.textContent = 'Copiado!';
          setTimeout(()=> copyBtn.textContent = 'Copiar', 1500);
        } catch (err) {
          copyBtn.textContent = 'Erro';
          setTimeout(()=> copyBtn.textContent = 'Copiar', 1500);
        }
      });
    }



    /* Fun√ß√µes de formata√ß√£o de data foram removidas do HTML; se precisar, posso mov√™-las para js/utils.js */

    /* createConfetti movido para js/utils.js */

    /* animateAge movido para js/utils.js */

    /* typeName movido para js/utils.js */

    /* revealWithin movido para js/utils.js */

    /* Parallax agora inicializado em js/index.js */

    /* Inicializa√ß√£o movida para js/index.js */
  </script>
  <script src="js/utils.js" defer></script>
  <script src="js/index.js" defer></script>
</body>
</html>
