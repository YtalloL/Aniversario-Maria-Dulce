<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Convite de AniversÃ¡rio</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main class="container">
    <section class="hero">
      <div class="decor left" aria-hidden="true"></div>
      <div class="decor right" aria-hidden="true"></div>

      <div class="countdown" id="countdown" aria-hidden="false">
        <div class="countdown-inner">â³ Contagem regressiva: <span id="countdownTimer">-- dias --:--:--</span></div>
      </div>

      <div class="card">
        <div class="badge">VocÃª estÃ¡ convidado(a)</div>
        <h1 class="name"><span id="guestName" data-full="Maria Dulce">Maria Dulce</span></h1>
        <p class="age"><span id="age">80</span> anos</p>
        <p class="subtitle">Completando <strong>80 anos</strong></p>

        <div class="cta">
          <a href="details.html" class="link-btn open-details">Ver detalhes ğŸ‰</a>
        </div>

        <p class="confirm">Confirme presenÃ§a atÃ© <strong>20/02/2026</strong></p>
      </div>
    </section>



    <footer class="footer">
      <p>Confirme sua presenÃ§a e venha celebrar conosco! ğŸˆ</p>
    </footer>
  </main>



  <script>
    // Pegar referÃªncias aos elementos que vamos usar (botÃµes, QR, chave Pix)
    const openDetailsEls = document.querySelectorAll('.open-details');
    const qrImage = document.getElementById('qrImage');
    const copyBtn = document.getElementById('copyPix');
    const pixKey = document.getElementById('pixKey');



    const guestName = document.getElementById('guestName');
    const ageEl = document.getElementById('age');
    const date = document.getElementById('date');
    const time = document.getElementById('time');
    const place = document.getElementById('place');
    const gift = document.getElementById('gift');

    // Paleta para o confete agora estÃ¡ em js/utils.js

    // Abrir/fechar painel de detalhes (carrega o conteÃºdo de `details.html` na primeira vez)
    const detailsPanel = document.getElementById('detailsPanel');
    let detailsLoaded = false;

    // toggleDetails agora implementado em js/index.js â€” removido do HTML para evitar duplicaÃ§Ã£o

    openDetailsEls.forEach(el=> el.addEventListener('click', (ev)=>{
      ev.preventDefault();
      const rect = ev.target.getBoundingClientRect();
      createConfetti(rect.left + rect.width/2, rect.top + rect.height/2, 30);
      setTimeout(()=> toggleDetails(), 280);
    }));

    /* Contador: inicializaÃ§Ã£o e atualizaÃ§Ãµes agora gerenciadas por js/index.js (usa updateCountdownTo do utils.js) */

    // O QR jÃ¡ vem pronto no convite (nÃ£o deixamos enviar QR pela pÃ¡gina) â€” estÃ¡ em `assets`.

    // Copiar a chave Pix para a Ã¡rea de transferÃªncia quando o usuÃ¡rio clicar em 'Copiar'
    if (copyBtn) {
      copyBtn.addEventListener('click', async () => {
        const val = pixKey.value.trim();
        if (!val) {
          copyBtn.textContent = 'Vazio';
          setTimeout(()=> copyBtn.textContent = 'Copiar', 1200);
          return;
        }
        try {
          await navigator.clipboard.writeText(val);
          copyBtn.textContent = 'Copiado!';
          setTimeout(()=> copyBtn.textContent = 'Copiar', 1500);
        } catch (err) {
          copyBtn.textContent = 'Erro';
          setTimeout(()=> copyBtn.textContent = 'Copiar', 1500);
        }
      });
    }



    /* FunÃ§Ãµes de formataÃ§Ã£o de data foram removidas do HTML; se precisar, posso movÃª-las para js/utils.js */

    /* createConfetti movido para js/utils.js */

    /* animateAge movido para js/utils.js */

    /* typeName movido para js/utils.js */

    /* revealWithin movido para js/utils.js */

    /* Parallax agora inicializado em js/index.js */

    /* InicializaÃ§Ã£o movida para js/index.js */
  </script>
  <script src="js/utils.js" defer></script>
  <script src="js/index.js" defer></script>
</body>
</html>
